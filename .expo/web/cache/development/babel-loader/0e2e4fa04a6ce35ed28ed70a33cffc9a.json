{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"D:\\\\WorkSpace\\\\Web Projects\\\\Ad-rebate\\\\Screens\\\\Home.js\";\nimport \"react-native-gesture-handler\";\nimport React, { useContext, useEffect, useState, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableNativeFeedback from \"react-native-web/dist/exports/TouchableNativeFeedback\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport * as Notifications from \"expo-notifications\";\nimport TextTicker from \"react-native-text-ticker\";\nimport { globalstyles } from \"../styles/global\";\nimport cash from \"../assets/svgs/cash.png\";\nimport coffee from \"../assets/images/coffee.png\";\nimport coupons from \"../assets/svgs/coupons.png\";\nimport { AuthContext } from \"../routes/AuthProvider\";\nimport { db } from \"../firebases\";\nimport BannerImages from \"./BannerImages\";\nimport { FlatList } from \"react-native-gesture-handler\";\nimport { set } from \"react-native-reanimated\";\nimport { useDispatch, useSelector } from \"react-redux\";\nNotifications.setNotificationHandler({\n  handleNotification: function handleNotification() {\n    return _regeneratorRuntime.async(function handleNotification$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              shouldShowAlert: true,\n              shouldPlaySound: false,\n              shouldSetBadge: false\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n});\nexport default function HomeScreen(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      setUserData = _useContext.setUserData,\n      setBannerData = _useContext.setBannerData,\n      userData = _useContext.userData;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      pushnotification = _useState2[0],\n      setPushNotification = _useState2[1];\n\n  var dispatch = useDispatch();\n  var bannerData = useSelector(function (state) {\n    return state.bannerData;\n  });\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      flag = _useState4[0],\n      setFlag = _useState4[1];\n\n  var notificationListener = useRef();\n  var responseListener = useRef();\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      notification = _useState6[0],\n      setNotifiaction = _useState6[1];\n\n  var _useState7 = useState([{\n    name: \"Cafe\",\n    value: \"cafe\",\n    img: \"../assests/images/coffee.jpg\",\n    key: \"1\"\n  }, {\n    name: \"Restaurant\",\n    value: \"restaurant\",\n    img: \"../assests/images/coffee.jpg\",\n    key: \"5\"\n  }]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      categoriesButtons = _useState8[0],\n      setCategoriesButtons = _useState8[1];\n\n  BackHandler.addEventListener(\"hardwareBackPress\", function () {\n    if (flag === 1) {\n      setFlag(0);\n      BackHandler.exitApp();\n    }\n\n    setFlag(flag + 1);\n    console.log(flag);\n    return true;\n  });\n  useEffect(function () {\n    console.log(bannerData.banners);\n  }, [bannerData]);\n  useEffect(function () {\n    var isMounted = true;\n    checkUser();\n\n    function checkUser() {\n      var userDoc;\n      return _regeneratorRuntime.async(function checkUser$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (user !== null && isMounted) {\n                userDoc = db.collection(\"Users\").doc(user.uid);\n                userDoc.get().then(function (doc) {\n                  if (doc.exists) {\n                    setUserData(doc.data());\n                  } else {\n                    navigation.navigate(\"ProfileComplete\");\n                  }\n                }).catch(function (error) {\n                  console.log(\"Error getting document:\", error);\n                });\n              }\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    return function () {\n      isMounted = false;\n    };\n  }, []);\n  useEffect(function () {\n    var isMounted = true;\n    var noti = db.collection(\"Notification\").doc(\"notifications\");\n    noti.get().then(function (doc) {\n      if (doc.exists && isMounted) {\n        setNotifiaction(doc.data().notification);\n      } else {}\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n    return function () {\n      isMounted = false;\n    };\n  }, []);\n  useEffect(function () {\n    var isMounted = true;\n\n    if (true) {\n      var bannerDoc = db.collection(\"Banners\").doc(userData == undefined ? \"bhilai\" : userData.location == null || userData.location === \"\" ? \"bhilai\" : userData.location);\n      bannerDoc.get().then(function (doc) {\n        if (doc.exists && isMounted) {\n          setBannerData(doc.data());\n          dispatch({\n            type: \"bannerUpdate\",\n            payload: {\n              bannerArray: doc.data().banners\n            }\n          });\n        } else {}\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n    }\n\n    return function () {\n      isMounted = false;\n    };\n  }, []);\n  notificationListener.current = Notifications.addNotificationReceivedListener(function (notification) {\n    setPushNotification(notification);\n  });\n  responseListener.current = Notifications.addNotificationResponseReceivedListener(function (response) {\n    console.log(response);\n  });\n\n  var buttonAlert = function buttonAlert() {\n    return Alert.alert(\"Update Alert\", \"This section will be available soon!\", [{\n      text: \"Cancel\",\n      style: \"cancel\"\n    }, {\n      text: \"OK\"\n    }], {\n      cancelable: false\n    });\n  };\n\n  return React.createElement(View, {\n    style: globalstyles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"black\",\n    barStyle: \"light-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }), React.createElement(View, {\n    style: styles.banner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }, React.createElement(BannerImages, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 9\n    }\n  })), notification === null || notification === \"\" || notification === undefined || !user ? null : React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }\n  }, React.createElement(TextTicker, {\n    style: {\n      fontSize: 16,\n      color: \"#dadada\",\n      height: 50,\n      width: \"100%\",\n      marginTop: 10,\n      fontFamily: \"Poppins-Regular\"\n    },\n    duration: 6000,\n    loop: true,\n    bounce: false,\n    marqueeOnMount: true,\n    animationType: \"scroll\",\n    shouldAnimateTreshold: 0,\n    repeatSpacer: 10,\n    marqueeDelay: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 11\n    }\n  }, notification)), React.createElement(View, {\n    style: styles.location,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.locationText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 11\n    }\n  }, \"Current location :\", \" \", userData ? userData.location : \"not specified yet\")), React.createElement(View, {\n    style: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, React.createElement(TouchableNativeFeedback, {\n    onPress: buttonAlert,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: cash,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 13\n    }\n  }))), React.createElement(TouchableNativeFeedback, {\n    onPress: function onPress() {\n      return navigation.navigate(\"Coupon\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: coupons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  })))), React.createElement(View, {\n    style: styles.categoryWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.categoryHeading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, \"Categories\"), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    style: styles.categoryItems,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, React.createElement(FlatList, {\n    style: styles.category,\n    data: categoriesButtons,\n    numColumns: 4,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.itemWrapper,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableNativeFeedback, {\n        onPress: function onPress() {\n          return user ? navigation.navigate(\"Categories\", {\n            paramKey: item.value\n          }) : alert(\"Login First\");\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 19\n        }\n      }, React.createElement(View, {\n        style: styles.categoryTile,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: styles.tileLogo,\n        source: coffee,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 23\n        }\n      }))), React.createElement(Text, {\n        style: styles.categoryItemTitle,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 19\n        }\n      }, item.name));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  })))), !user ? React.createElement(View, {\n    style: styles.buttonWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableNativeFeedback, {\n    useForeground: true,\n    onPress: function onPress() {\n      return navigation.navigate(\"LogIn\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.loginButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.loginButtonTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }, \"Login\"))), React.createElement(TouchableNativeFeedback, {\n    onPress: function onPress() {\n      return navigation.navigate(\"SignUp\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.registerButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.registerButtonTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 15\n    }\n  }, \"Register\")))) : null);\n}\nvar styles = StyleSheet.create({\n  categoryItemTitle: {\n    color: \"white\"\n  },\n  itemWrapper: {\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  tileLogo: {\n    width: 40,\n    height: 40\n  },\n  categoryItems: {\n    flexDirection: \"row\",\n    width: 383,\n    borderRadius: 20,\n    alignSelf: \"center\",\n    backgroundColor: \"blue\",\n    height: \"100%\",\n    flexWrap: \"wrap\"\n  },\n  categoryTile: {\n    borderRadius: 50,\n    height: 70,\n    backgroundColor: \"#9c9c9c\",\n    borderColor: \"#000000\",\n    borderWidth: 2,\n    width: 70,\n    margin: 7,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  registerButtonTitle: {\n    color: \"#000\",\n    fontSize: 18,\n    fontFamily: \"Poppins-Medium\"\n  },\n  loginButtonTitle: {\n    color: \"#ffffff\",\n    fontSize: 18,\n    fontFamily: \"Poppins-Medium\"\n  },\n  buttonWrapper: {\n    marginBottom: 20,\n    flexDirection: \"row\",\n    width: \"100%\",\n    justifyContent: \"space-evenly\",\n    position: \"absolute\",\n    bottom: 0\n  },\n  loginButton: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 178,\n    borderRadius: 20,\n    height: 58,\n    borderColor: \"#fff\",\n    borderStyle: \"solid\",\n    borderWidth: 1\n  },\n  registerButton: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    width: 178,\n    borderRadius: 20,\n    height: 58,\n    backgroundColor: \"#00BEB3\"\n  },\n  categoryHeading: {\n    fontSize: 18,\n    color: \"#FFFFFF\",\n    marginBottom: \"2%\"\n  },\n  category: {\n    backgroundColor: \"#161616\",\n    padding: 20,\n    width: 383,\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    borderRadius: 20,\n    alignSelf: \"center\",\n    height: \"100%\"\n  },\n  categoryWrapper: {\n    marginBottom: \"14%\",\n    height: \"38%\",\n    alignSelf: \"center\"\n  },\n  locationText: {\n    marginBottom: \"3%\",\n    marginLeft: \"5%\",\n    fontFamily: \"Poppins-Regular\",\n    color: \"#a8a8a8\",\n    fontSize: 13,\n    height: 20\n  },\n  banner: {\n    height: \"16%\",\n    backgroundColor: \"#000000\",\n    width: \"100%\",\n    marginBottom: \"2%\"\n  },\n  wrapper: {\n    marginBottom: \"2%\",\n    flexDirection: \"row\",\n    height: \"20%\",\n    width: \"100%\",\n    justifyContent: \"space-evenly\"\n  },\n  card: {\n    width: \"45%\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 20,\n    backgroundColor: \"#FF005C\",\n    height: \"100%\"\n  },\n  cashCard: {\n    backgroundColor: \"#2bff00\"\n  },\n  texts: {\n    borderRadius: 20,\n    fontFamily: \"Poppins-Medium\",\n    fontSize: 50,\n    color: \"#fff\"\n  }\n});","map":{"version":3,"sources":["D:/WorkSpace/Web Projects/Ad-rebate/Screens/Home.js"],"names":["React","useContext","useEffect","useState","useRef","Notifications","TextTicker","globalstyles","cash","coffee","coupons","AuthContext","db","BannerImages","FlatList","set","useDispatch","useSelector","setNotificationHandler","handleNotification","shouldShowAlert","shouldPlaySound","shouldSetBadge","HomeScreen","navigation","user","setUserData","setBannerData","userData","pushnotification","setPushNotification","dispatch","bannerData","state","flag","setFlag","notificationListener","responseListener","notification","setNotifiaction","name","value","img","key","categoriesButtons","setCategoriesButtons","BackHandler","addEventListener","exitApp","console","log","banners","isMounted","checkUser","userDoc","collection","doc","uid","get","then","exists","data","navigate","catch","error","noti","bannerDoc","undefined","location","type","payload","bannerArray","current","addNotificationReceivedListener","addNotificationResponseReceivedListener","response","buttonAlert","Alert","alert","text","style","cancelable","container","styles","banner","fontSize","color","height","width","marginTop","fontFamily","locationText","wrapper","card","categoryWrapper","categoryHeading","categoryItems","category","item","itemWrapper","paramKey","categoryTile","tileLogo","categoryItemTitle","buttonWrapper","loginButton","loginButtonTitle","registerButton","registerButtonTitle","StyleSheet","create","justifyContent","alignItems","flexDirection","borderRadius","alignSelf","backgroundColor","flexWrap","borderColor","borderWidth","margin","marginBottom","position","bottom","borderStyle","padding","marginLeft","cashCard","texts"],"mappings":"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","sourcesContent":["import \"react-native-gesture-handler\";\r\nimport React, { useContext, useEffect, useState, useRef } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  TouchableNativeFeedback,\r\n  Image,\r\n  Alert,\r\n  StatusBar,\r\n  SafeAreaView,\r\n  BackHandler,\r\n} from \"react-native\";\r\nimport * as Notifications from \"expo-notifications\";\r\nimport TextTicker from \"react-native-text-ticker\";\r\nimport { globalstyles } from \"../styles/global\";\r\nimport cash from \"../assets/svgs/cash.png\";\r\nimport coffee from \"../assets/images/coffee.png\";\r\nimport coupons from \"../assets/svgs/coupons.png\";\r\nimport { AuthContext } from \"../routes/AuthProvider\";\r\nimport { db } from \"../firebases\";\r\nimport BannerImages from \"./BannerImages\";\r\nimport { FlatList } from \"react-native-gesture-handler\";\r\nimport { set } from \"react-native-reanimated\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nNotifications.setNotificationHandler({\r\n  handleNotification: async () => ({\r\n    shouldShowAlert: true,\r\n    shouldPlaySound: false,\r\n    shouldSetBadge: false,\r\n  }),\r\n});\r\nexport default function HomeScreen({ navigation }) {\r\n  const { user, setUserData, setBannerData, userData } = useContext(\r\n    AuthContext\r\n  );\r\n  const [pushnotification, setPushNotification] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const bannerData = useSelector((state) => state.bannerData);\r\n  const [flag, setFlag] = useState(0);\r\n  const notificationListener = useRef();\r\n  const responseListener = useRef();\r\n  const [notification, setNotifiaction] = useState();\r\n  const [categoriesButtons, setCategoriesButtons] = useState([\r\n    {\r\n      name: \"Cafe\",\r\n      value: \"cafe\",\r\n      img: \"../assests/images/coffee.jpg\",\r\n      key: \"1\",\r\n    },\r\n    {\r\n      name: \"Restaurant\",\r\n      value: \"restaurant\",\r\n      img: \"../assests/images/coffee.jpg\",\r\n      key: \"5\",\r\n    },\r\n  ]);\r\n  BackHandler.addEventListener(\"hardwareBackPress\", function () {\r\n    if (flag === 1) {\r\n      setFlag(0);\r\n      BackHandler.exitApp();\r\n    }\r\n    setFlag(flag + 1);\r\n    console.log(flag);\r\n    return true;\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log(bannerData.banners);\r\n  }, [bannerData]);\r\n  //TAKING THE USER DATA FROM DATABASE\r\n  useEffect(() => {\r\n    let isMounted = true; // note this flag denote mount status\r\n    checkUser();\r\n    async function checkUser() {\r\n      if (user !== null && isMounted) {\r\n        const userDoc = db.collection(\"Users\").doc(user.uid);\r\n        userDoc\r\n          .get()\r\n          .then(function (doc) {\r\n            if (doc.exists) {\r\n              setUserData(doc.data());\r\n            } else {\r\n              navigation.navigate(\"ProfileComplete\");\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(\"Error getting document:\", error);\r\n          });\r\n      }\r\n    }\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  //NOTIFICATION BAR IN THE HOME SCREEN\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    const noti = db.collection(\"Notification\").doc(\"notifications\");\r\n    noti\r\n      .get()\r\n      .then(function (doc) {\r\n        if (doc.exists && isMounted) {\r\n          setNotifiaction(doc.data().notification);\r\n        } else {\r\n          //navigation.navigate(\"ProfileComplete\");\r\n        }\r\n      })\r\n      .catch(function (error) {\r\n        console.log(\"Error getting document:\", error);\r\n      });\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  //TAKING THE BANNERS DATA FROM DATABASE\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    if (true) {\r\n      const bannerDoc = db\r\n        .collection(\"Banners\")\r\n        .doc(\r\n          userData == undefined\r\n            ? \"bhilai\"\r\n            : userData.location == null || userData.location === \"\"\r\n            ? \"bhilai\"\r\n            : userData.location\r\n        );\r\n      bannerDoc\r\n        .get()\r\n        .then(function (doc) {\r\n          if (doc.exists && isMounted) {\r\n            setBannerData(doc.data());\r\n            dispatch({\r\n              type: \"bannerUpdate\",\r\n              payload: {\r\n                bannerArray: doc.data().banners,\r\n              },\r\n            });\r\n          } else {\r\n            // console.log(\"error\");\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(\"Error getting document:\", error);\r\n        });\r\n    }\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n\r\n  // This listener is fired when user receive notification\r\n  notificationListener.current = Notifications.addNotificationReceivedListener(\r\n    (notification) => {\r\n      setPushNotification(notification);\r\n    }\r\n  );\r\n\r\n  // This listener is fired whenever a user taps on or interacts with a notification (works when app is foregrounded, backgrounded, or killed)\r\n  responseListener.current = Notifications.addNotificationResponseReceivedListener(\r\n    (response) => {\r\n      console.log(response);\r\n    }\r\n  );\r\n\r\n  //EARNING THE UPDATE ALERT\r\n  const buttonAlert = () =>\r\n    Alert.alert(\r\n      \"Update Alert\",\r\n      \"This section will be available soon!\",\r\n      [\r\n        {\r\n          text: \"Cancel\",\r\n          style: \"cancel\",\r\n        },\r\n        { text: \"OK\" },\r\n      ],\r\n      { cancelable: false }\r\n    );\r\n\r\n  return (\r\n    <View style={globalstyles.container}>\r\n      <StatusBar backgroundColor=\"black\" barStyle=\"light-content\" />\r\n      <View style={styles.banner}>\r\n        <BannerImages />\r\n      </View>\r\n      {notification === null ||\r\n      notification === \"\" ||\r\n      notification === undefined ||\r\n      !user ? null : (\r\n        <View>\r\n          <TextTicker\r\n            style={{\r\n              fontSize: 16,\r\n              color: \"#dadada\",\r\n              height: 50,\r\n              width: \"100%\",\r\n              marginTop: 10,\r\n              fontFamily: \"Poppins-Regular\",\r\n            }}\r\n            duration={6000}\r\n            loop\r\n            bounce={false}\r\n            marqueeOnMount={true}\r\n            animationType=\"scroll\"\r\n            shouldAnimateTreshold={0}\r\n            repeatSpacer={10}\r\n            marqueeDelay={0}\r\n          >\r\n            {notification}\r\n          </TextTicker>\r\n        </View>\r\n      )}\r\n      {\r\n        <View style={styles.location}>\r\n          <Text style={styles.locationText}>\r\n            Current location :{\" \"}\r\n            {userData ? userData.location : \"not specified yet\"}\r\n          </Text>\r\n        </View>\r\n      }\r\n      <View style={styles.wrapper}>\r\n        <TouchableNativeFeedback onPress={buttonAlert}>\r\n          <View style={styles.card}>\r\n            <Image source={cash}></Image>\r\n          </View>\r\n        </TouchableNativeFeedback>\r\n        <TouchableNativeFeedback onPress={() => navigation.navigate(\"Coupon\")}>\r\n          <View style={styles.card}>\r\n            <Image source={coupons}></Image>\r\n          </View>\r\n        </TouchableNativeFeedback>\r\n      </View>\r\n      <View style={styles.categoryWrapper}>\r\n        <Text style={styles.categoryHeading}>Categories</Text>\r\n        <View>\r\n          <SafeAreaView style={styles.categoryItems}>\r\n            <FlatList\r\n              style={styles.category}\r\n              data={categoriesButtons}\r\n              numColumns={4}\r\n              renderItem={({ item }) => (\r\n                <View style={styles.itemWrapper}>\r\n                  <TouchableNativeFeedback\r\n                    onPress={() =>\r\n                      user\r\n                        ? navigation.navigate(\"Categories\", {\r\n                            paramKey: item.value,\r\n                          })\r\n                        : alert(\"Login First\")\r\n                    }\r\n                  >\r\n                    <View style={styles.categoryTile}>\r\n                      <Image style={styles.tileLogo} source={coffee}></Image>\r\n                    </View>\r\n                  </TouchableNativeFeedback>\r\n                  <Text style={styles.categoryItemTitle}>{item.name}</Text>\r\n                </View>\r\n              )}\r\n            />\r\n          </SafeAreaView>\r\n        </View>\r\n      </View>\r\n\r\n      {!user ? (\r\n        <View style={styles.buttonWrapper}>\r\n          <TouchableNativeFeedback\r\n            useForeground={true}\r\n            onPress={() => navigation.navigate(\"LogIn\")}\r\n          >\r\n            <View style={styles.loginButton}>\r\n              <Text style={styles.loginButtonTitle}>Login</Text>\r\n            </View>\r\n          </TouchableNativeFeedback>\r\n          <TouchableNativeFeedback\r\n            onPress={() => navigation.navigate(\"SignUp\")}\r\n          >\r\n            <View style={styles.registerButton}>\r\n              <Text style={styles.registerButtonTitle}>Register</Text>\r\n            </View>\r\n          </TouchableNativeFeedback>\r\n        </View>\r\n      ) : null}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  categoryItemTitle: { color: \"white\" },\r\n  itemWrapper: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  tileLogo: { width: 40, height: 40 },\r\n  categoryItems: {\r\n    flexDirection: \"row\",\r\n    width: 383,\r\n    borderRadius: 20,\r\n    alignSelf: \"center\",\r\n    backgroundColor: \"blue\",\r\n    height: \"100%\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  categoryTile: {\r\n    borderRadius: 50,\r\n    height: 70,\r\n    backgroundColor: \"#9c9c9c\",\r\n    borderColor: \"#000000\",\r\n    borderWidth: 2,\r\n    width: 70,\r\n    margin: 7,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  registerButtonTitle: {\r\n    color: \"#000\",\r\n    fontSize: 18,\r\n    fontFamily: \"Poppins-Medium\",\r\n  },\r\n  loginButtonTitle: {\r\n    color: \"#ffffff\",\r\n    fontSize: 18,\r\n    fontFamily: \"Poppins-Medium\",\r\n  },\r\n  buttonWrapper: {\r\n    marginBottom: 20,\r\n    flexDirection: \"row\",\r\n    width: \"100%\",\r\n    justifyContent: \"space-evenly\",\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n  },\r\n  loginButton: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: 178,\r\n    borderRadius: 20,\r\n    height: 58,\r\n    borderColor: \"#fff\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: 1,\r\n  },\r\n  registerButton: {\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: 178,\r\n    borderRadius: 20,\r\n    height: 58,\r\n    backgroundColor: \"#00BEB3\",\r\n  },\r\n  categoryHeading: {\r\n    fontSize: 18,\r\n    color: \"#FFFFFF\",\r\n    marginBottom: \"2%\",\r\n  },\r\n  category: {\r\n    backgroundColor: \"#161616\",\r\n    padding: 20,\r\n    width: 383,\r\n    flexWrap: \"wrap\",\r\n    flexDirection: \"row\",\r\n    borderRadius: 20,\r\n    alignSelf: \"center\",\r\n    height: \"100%\",\r\n  },\r\n  categoryWrapper: {\r\n    marginBottom: \"14%\",\r\n    height: \"38%\",\r\n    alignSelf: \"center\",\r\n  },\r\n  locationText: {\r\n    marginBottom: \"3%\",\r\n    marginLeft: \"5%\",\r\n    fontFamily: \"Poppins-Regular\",\r\n    color: \"#a8a8a8\",\r\n    fontSize: 13,\r\n    height: 20,\r\n  },\r\n  banner: {\r\n    height: \"16%\",\r\n    backgroundColor: \"#000000\",\r\n    width: \"100%\",\r\n    marginBottom: \"2%\",\r\n  },\r\n  wrapper: {\r\n    marginBottom: \"2%\",\r\n    flexDirection: \"row\",\r\n    height: \"20%\",\r\n    width: \"100%\",\r\n    justifyContent: \"space-evenly\",\r\n  },\r\n  card: {\r\n    width: \"45%\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 20,\r\n    backgroundColor: \"#FF005C\",\r\n    height: \"100%\",\r\n  },\r\n  cashCard: { backgroundColor: \"#2bff00\" },\r\n  texts: {\r\n    borderRadius: 20,\r\n    fontFamily: \"Poppins-Medium\",\r\n    fontSize: 50,\r\n    color: \"#fff\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}